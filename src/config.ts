/**
 * GroupHelper 插件配置和文档
 */

/**
 * 插件使用说明 - 显示在 Koishi 控制台配置页面
 */
export const usage = `
# 群组管理助手 (GroupHelper)

全方位的群组管理解决方案，提供成员管理、消息管理、自动化功能、娱乐互动等丰富功能。

---

## 🛡️ 成员管理

| 命令 | 说明 | 用法 |
|------|------|------|
| \`kick <用户> [-b]\` | 踢出用户 | 支持 @用户 或 QQ号，\`-b\` 同时加入黑名单 |
| \`admin <@用户>\` | 设置管理员 | 赋予用户管理员权限 |
| \`unadmin <@用户>\` | 取消管理员 | 撤销用户管理员权限 |
| \`title\` | 群头衔管理 | \`-s <文本>\` 设置，\`-r\` 移除，\`-u @用户\` 指定用户 |
| \`nickname <@用户> [昵称]\` | 设置群名片 | 不填昵称则清除 |
| \`unban-allppl\` | 批量解禁 | 解除当前群所有人禁言 |

---

## ⏱️ 禁言管理

| 命令 | 说明 | 用法 |
|------|------|------|
| \`ban <用户> <时长> [群号]\` | 禁言用户 | 时长支持表达式（如 \`10m\`, \`1h\`, \`1d\`） |
| \`unban <用户> [群号]\` | 解除禁言 | 支持 @用户 或 QQ号 |
| \`stop <@用户>\` | 短期禁言 | 固定 10 分钟 |
| \`ban-all\` | 开启全体禁言 | 全群禁言模式 |
| \`unban-all\` | 解除全体禁言 | 关闭全群禁言 |
| \`ban-list\` | 查询禁言名单 | 显示当前群被禁言成员 |
| \`unban-random <数量>\` | 随机解禁 | 随机解除指定数量的禁言（大赦天下） |

---

## ⚠️ 警告系统

| 命令 | 说明 | 用法 |
|------|------|------|
| \`warn <@用户> [次数]\` | 警告用户 | 达到阈值后自动禁言，默认 +1 次 |
| \`warn.clear <@用户>\` | 清除警告 | 清除用户所有警告记录 |
| \`warn.list [@用户]\` | 查看警告 | 不指定用户则显示本群所有警告 |

---

## 👑 角色权限管理

| 命令 | 说明 | 用法 |
|------|------|------|
| \`gauth.list\` | 列出角色 | 显示所有可用角色 |
| \`gauth.info <@用户>\` | 查看用户角色 | 显示指定用户的所有角色 |
| \`gauth.add <@用户> <角色>\` | 添加角色 | 给用户分配角色 |
| \`gauth.remove <@用户> <角色>\` | 移除角色 | 撤销用户的角色 |
| \`getauth <@用户>\` | 查询权限状态 | 详细显示用户群角色、禁言状态、权限等级 |

---

## 💬 消息管理

| 命令 | 说明 | 用法 |
|------|------|------|
| \`delmsg\` | 撤回消息 | 回复要撤回的消息后使用 |
| \`essence\` | 精华消息 | \`-s\` 设为精华，\`-r\` 取消精华（需回复消息） |
| \`send <群号> [-s]\` | 跨群发送 | 回复消息后发送到指定群，\`-s\` 静默发送 |

---

## 🔑 关键词管理

| 命令 | 说明 | 用法 |
|------|------|------|
| \`verify\` | 入群验证词 | \`-a\` 添加，\`-r\` 移除，\`--clear\` 清空，\`-l\` 列出，\`-n\` 自动拒绝 |
| \`forbidden\` | 违禁词管理 | \`-a\` 添加，\`-r\` 移除，\`-d\` 撤回，\`-b\` 禁言，\`-k\` 踢出，\`-t\` 时长 |

---

## 👋 欢迎与欢送

| 命令 | 说明 | 用法 |
|------|------|------|
| \`welcome\` | 入群欢迎 | \`-s <消息>\` 设置，\`-r\` 移除，\`-t\` 测试，\`-l\` 等级限制 |
| \`goodbye\` | 退群欢送 | \`-s <消息>\` 设置，\`-r\` 移除，\`-t\` 测试 |

> 欢迎语变量：\`{at}\` @用户，\`{user}\` 用户名，\`{userId}\` 用户ID

---

## 🔄 防复读

| 命令 | 说明 | 用法 |
|------|------|------|
| \`antirepeat [阈值]\` | 复读管理 | 设置复读检测阈值，\`0\` 为关闭 |

---

## 🔍 防撤回

| 命令 | 说明 | 用法 |
|------|------|------|
| \`antirecall <@用户> [数量]\` | 查询撤回记录 | 查看指定用户的撤回消息历史 |
| \`antirecall-config\` | 功能配置 | \`-e\` 启用/禁用，\`-d\` 保留天数，\`-m\` 最大记录数 |
| \`antirecall.status\` | 查看状态 | 显示当前群防撤回配置和统计 |
| \`antirecall.clear\` | 清理记录 | 清除所有撤回消息记录（高危） |

---

## 📝 日志系统

| 命令 | 说明 | 用法 |
|------|------|------|
| \`listlog [数量]\` | 查看操作日志 | 显示最近的操作记录，可指定条数 |
| \`clearlog\` | 清理日志 | \`-d <天数>\` 保留最近几天，\`-a\` 清理所有 |
| \`cmdlogs.check\` | 命令执行日志 | \`-l\` 条数，\`-u\` 用户，\`-c\` 命令，\`-f\` 只看失败 |
| \`cmdlogs.stats\` | 命令统计 | \`-l\` 数量，\`--sort\` 排序方式 |
| \`cmdlogs.clear\` | 清除命令日志 | \`-d <天数>\` 清除N天前，\`--all\` 清除所有 |
| \`cmdlogs.export\` | 导出日志 | \`-d <天数>\` 导出范围，\`-f json/csv\` 格式 |

---

## 📢 订阅通知

| 命令 | 说明 | 用法 |
|------|------|------|
| \`sub\` | 订阅管理 | 显示订阅帮助 |
| \`sub.log\` | 操作日志订阅 | 开启/关闭操作日志推送 |
| \`sub.member\` | 成员变动订阅 | 开启/关闭成员加入退出通知 |
| \`sub.mute\` | 禁言到期订阅 | 开启/关闭禁言到期提醒 |
| \`sub.blacklist\` | 黑名单订阅 | 开启/关闭黑名单变更通知 |
| \`sub.warning\` | 警告订阅 | 开启/关闭警告处理通知 |
| \`sub.all\` | 订阅全部 | 一键开启所有通知 |
| \`sub.none\` | 取消全部 | 一键关闭所有通知 |
| \`sub.status\` | 查看状态 | 查看当前订阅状态 |

---

## 🚨 举报系统

| 命令 | 说明 | 用法 |
|------|------|------|
| \`report\` | 举报消息 | 回复违规消息使用，AI 自动审核，\`-v\` 显示详细结果 |
| \`report-config\` | 举报配置 | \`-e\` 启用，\`-a\` 自动处理，\`-c\` 包含上下文 |

---

## 🤖 AI 助手

| 命令 | 说明 | 用法 |
|------|------|------|
| \`ai [内容]\` | AI 对话 | 与 AI 进行对话，\`-r\` 重置上下文 |
| \`translate <文本>\` | AI 翻译 | 翻译文本，简写 \`tsl\`，\`-p\` 自定义提示词 |
| \`ai-config\` | AI 配置 | \`-e\` 启用/禁用，\`-p\` 系统提示词，\`-r\` 重置 |

---

## 🎲 娱乐功能

| 命令 | 说明 | 用法 |
|------|------|------|
| \`dice <面数> [个数]\` | 掷骰子 | 支持 XdY 语法，如 \`2d6\` |
| \`dice-config\` | 骰子配置 | \`-e\` 启用/禁用，\`-l\` 结果长度限制 |
| \`banme [内容]\` | 自助禁言 | 随机抽取禁言时长，有保底机制 |
| \`banme.config\` | banme 配置 | 配置启用、时长、概率等参数 |
| \`banme.similar\` | 形似字符表 | 查看形似字符映射配置 |

---

## 🛠️ 系统功能

| 命令 | 说明 | 用法 |
|------|------|------|
| \`grouphelper\` | 插件帮助 | \`-a\` 显示所有命令，\`-v\` 显示版本 |
| \`gstatus\` | 系统状态 | 生成系统状态信息图片 |
| \`config\` | 配置管理 | \`-t\` 显示配置，\`-b\` 黑名单，\`-w\` 警告 |
| \`quit-group <群号>\` | 退出群聊 | 让 Bot 退出指定群聊（高危） |
| \`parse-time <表达式>\` | 时间解析测试 | 测试时间表达式解析结果 |

---

## ⏱️ 时间表达式说明

支持以下格式：
- **基本单位**：\`s\`（秒）、\`m\`/\`min\`（分钟）、\`h\`（小时）、\`d\`（天）
- **基本格式**：数字+单位，如 \`1h\`、\`10min\`、\`30s\`
- **支持运算**：\`+\`, \`-\`, \`*\`, \`/\`, \`^\`, \`sqrt()\`, \`1e2\`
- **表达式示例**：\`(sqrt(100)+1e1)^2s\` = 400秒 = 6分40秒
- **时间范围**：1秒 ~ 29天23小时59分59秒
`
